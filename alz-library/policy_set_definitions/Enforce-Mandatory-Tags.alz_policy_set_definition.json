{
  "name": "Enforce-Mandatory-Tags",
  "type": "Microsoft.Authorization/policySetDefinitions",
  "properties": {
    "policyType": "Custom",
    "displayName": "Ensure mandatory tagging is applied to both Resources and Resource Groups",
    "description": "Contains the tagging policies applicable to the org",
    "metadata": {
      "version": "1.0.0",
      "category": "Tags"
    },
    "parameters": {},
    "policyDefinitionGroups": null,
    "policyDefinitions": [
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag1"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/96670d01-0a4d-4649-9c89-2d3abc0a5025",
        "policyDefinitionReferenceId": "Resource groups must have a tag1 tag applied"
      },
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag2"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/96670d01-0a4d-4649-9c89-2d3abc0a5025",
        "policyDefinitionReferenceId": "Resource groups must have a tag2 tag applied"
      },
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag3"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/96670d01-0a4d-4649-9c89-2d3abc0a5025",
        "policyDefinitionReferenceId": "Resource groups must have a tag3 tag applied"
      },
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag1"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/ea3f2387-9b95-492a-a190-fcdc54f7b070",
        "policyDefinitionReferenceId": "Inherit a tag1 tag from the resource group if missing"
      },
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag2"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/ea3f2387-9b95-492a-a190-fcdc54f7b070",
        "policyDefinitionReferenceId": "Inherit a tag2 tag from the resource group if missing"
      },
      {
        "groupNames": [],
        "parameters": {
          "tagName": {
            "value": "tag3"
          }
        },
        "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/ea3f2387-9b95-492a-a190-fcdc54f7b070",
        "policyDefinitionReferenceId": "Inherit a tag3 tag from the resource group if missing"
      }
    ]
  }
}